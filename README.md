# ComparisonBeha
The codebase underlying Zhang et al.'s 2023  paper about Irrelevant social comparison affects the exploration of uncertainty and its association with subjective expectations
![image text](https://github.com/andlab-um/ComparisonBeha/blob/main/Framework_noQ.png)

# Description
Codes for data analysis, behavioral data, and fitting result data in 'Irrelevant social comparison affects the exploration of uncertainty and its association with subjective expectations'.
Behavioral data and fitting result data are stored in csv files and data analysis codes are written in Python. Behavioral data is fitted by the Stan package (pystan).

## Introduction
'RL_E1_final0.zip', 'RL_E2_v3.zip', and 'RL_E3.zip' contain the programs of Exp1, Exp2, and Exp3 respectively, which were written in Psychopy.
The three folders 'Exp1', 'Exp2', and 'Exp3' contains all the data and codes for the three experiment respectively.
There are four folders 'codes for analysis', 'codes for fitting', 'data', and 'fitting results' in 'Exp1'/'Exp2'/'Exp3'.

'Codes for analysis' contains two files 'comparison.ipynb' and 'model_validation.ipynb'.
Running 'comparison.ipynb' requires the Python environment to have the packages numpy, pandas, csv, random, scipy, matplotlib, seaborn, and statsmodels.
'comparison.ipynb' is used to generate Figure 4 'Group fitting results of Exp 1 and Exp 3'.
'model_validation.ipynb' is used to generate Figure 2D 'the probabilities of exploration in Exp1' and Figure 3 'modeling results of Exp 1' and calculate the regression result of Table 1 'The linear regression between social comparison and belief update of the mean and variance (uncertainty) of the banditsâ€™ reward distributions'.
All regression results and correlation results are calculated in 'comparison.ipynb' and 'model_validation.ipynb'.

'codes for fitting' contain the codes for fitting all models in Table S1. Running these codes requires the Python environment to have the packages numpy, pandas, csv, pystan (2.11.0.0), and scipy.

'data' contains participants' behavioral data including participants' reward distributions, participants' actions and rewards, and player B's rewards.

'fitting results' contains the csv files of all models' fitting results which were generated by the 'pystan.StanModel.sampling' function.
Theses fitting results contains the mean, sd, n_eff, and Rhat of the fitted parameters.


## HISTORY
21.03.2022 - Initiation date



## REFERENCES


## Notes
If you want to run the code, pay attention to the environment configuration and the file path.
